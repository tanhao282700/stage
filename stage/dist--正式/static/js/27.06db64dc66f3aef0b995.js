webpackJsonp([27],{Bwh9:function(t,e){},Y8M2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("ngqk"),a=(s.a,{name:"fourthStep",components:{VueCoreImageUpload:s.a},data:function(){return{uploadUrl:"http://zayzsh.zbtdvip.com/api/merchant/good/add/goods/baseInfo",options:{getThumbBoundsFn:function(t){var e=document.querySelectorAll(".previewer-demo-img")[t],i=window.pageYOffset||document.documentElement.scrollTop,s=e.getBoundingClientRect();return{x:s.left,y:s.top+i,w:s.width}}},baseInfo:{imagesInfo:[{imageItems:[]},{imageItems:[]},{imageItems:[]},{imageItems:[]},{imageItems:[]},{imageItems:[]}]}}},created:function(){this.getBaseData()},methods:{sendData:function(t){var e=this;this.$vux.loading.show({text:"加载中..."});var i="";i=0==t?"房源信息保存成功":"房源发布成功",this.baseInfo.operate=t,this.$http.fetchPost("/merchant/room/add/imageInfo",this.baseInfo).then(function(s){e.$vux.loading.hide(),200==s.data.code?(e.$vux.toast.show({text:i,position:"middle"}),e.$store.state.tabIndex=0==t?3:2,e.$router.go(-1)):e.$vux.toast.show({text:s.data.message,position:"middle",type:"warn"})})},deletePic:function(t,e){this.baseInfo.imagesInfo[t].imageItems.splice(e,1)},getBaseData:function(){var t=this;this.$http.fetchGet("/merchant/room/get/imageInfo",{roomId:this.$route.query.params.id}).then(function(e){t.baseInfo=e.data.data})},getBack:function(){this.$router.replace({name:"thirdStep",query:{params:this.$route.query.params}})},imagechanged:function(t){var e=this;window.optionPictures=function(i){if(1==i.successType){var s={};s=0==i.selectType?{type:i.selectType,url:i.imagePath}:{type:i.selectType,url:i.imagePath,videoCoverImage:i.videoCoverImage},e.baseInfo.imagesInfo[t].imageItems.push(s)}else e.$vux.toast.show({text:i.info,position:"middle",type:"warn"});var a=navigator.userAgent.toLowerCase();a.indexOf("Android")>-1||a.indexOf("Adr"),a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.onHideDialog.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.onHideDialog()};var i=navigator.userAgent.toLowerCase();i.indexOf("Android")>-1||i.indexOf("Adr"),i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.selectPicture.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.selectPicture()}}}),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fourthStep"},[i("div",{staticClass:"iosHeader vux-1px-b"},[i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left left",attrs:{type:"ios-arrow-left",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:t.getBack}},[i("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})]),t._v(" "),i("span",[t._v("第四步：上传照片")]),t._v(" "),i("span",{staticClass:"right headericon icon iconfont",on:{click:t.getBack}},[t._v("")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"con"},[t._m(1),t._v(" "),i("div",{staticClass:"titlePic"},[i("div",{staticClass:"titlePic_con vux-1px-b"},[i("div",{staticClass:"lineTitle avater",on:{click:function(e){return t.imagechanged(0)}}},[i("span",[t._v("封面")]),t._v(" "),i("span",[t._v("+")])]),t._v(" "),t.baseInfo.imagesInfo[0].imageItems.length>0?i("div",{staticClass:"imgs"},t._l(t.baseInfo.imagesInfo[0].imageItems,function(e,s){return i("div",{staticClass:"pics"},[0==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),1==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.videoCoverImage,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(e){return t.deletePic(0,s)}}},[t._v("")])])}),0):t._e()])]),t._v(" "),i("div",{staticClass:"titlePic"},[i("div",{staticClass:"titlePic_con vux-1px-b"},[i("div",{staticClass:"lineTitle avater",on:{click:function(e){return t.imagechanged(1)}}},[i("span",[t._v("卧室")]),t._v(" "),i("span",[t._v("+")])]),t._v(" "),t.baseInfo.imagesInfo[1].imageItems.length>0?i("div",{staticClass:"imgs"},t._l(t.baseInfo.imagesInfo[1].imageItems,function(e,s){return i("div",{staticClass:"pics"},[0==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),1==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.videoCoverImage,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(e){return t.deletePic(1,s)}}},[t._v("")])])}),0):t._e()])]),t._v(" "),i("div",{staticClass:"titlePic"},[i("div",{staticClass:"titlePic_con vux-1px-b"},[i("div",{staticClass:"lineTitle avater",on:{click:function(e){return t.imagechanged(2)}}},[i("span",[t._v("客厅")]),t._v(" "),i("span",[t._v("+")])]),t._v(" "),t.baseInfo.imagesInfo[2].imageItems.length>0?i("div",{staticClass:"imgs"},t._l(t.baseInfo.imagesInfo[2].imageItems,function(e,s){return i("div",{staticClass:"pics"},[0==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),1==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.videoCoverImage,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(e){return t.deletePic(2,s)}}},[t._v("")])])}),0):t._e()])]),t._v(" "),i("div",{staticClass:"titlePic"},[i("div",{staticClass:"titlePic_con vux-1px-b"},[i("div",{staticClass:"lineTitle avater",on:{click:function(e){return t.imagechanged(3)}}},[i("span",[t._v("厨房")]),t._v(" "),i("span",[t._v("+")])]),t._v(" "),t.baseInfo.imagesInfo[3].imageItems.length>0?i("div",{staticClass:"imgs"},t._l(t.baseInfo.imagesInfo[3].imageItems,function(e,s){return i("div",{staticClass:"pics"},[0==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),1==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.videoCoverImage,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(e){return t.deletePic(3,s)}}},[t._v("")])])}),0):t._e()])]),t._v(" "),i("div",{staticClass:"titlePic"},[i("div",{staticClass:"titlePic_con vux-1px-b"},[i("div",{staticClass:"lineTitle avater",on:{click:function(e){return t.imagechanged(4)}}},[i("span",[t._v("卫浴")]),t._v(" "),i("span",[t._v("+")])]),t._v(" "),t.baseInfo.imagesInfo[4].imageItems.length>0?i("div",{staticClass:"imgs"},t._l(t.baseInfo.imagesInfo[4].imageItems,function(e,s){return i("div",{staticClass:"pics"},[0==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),1==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.videoCoverImage,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(e){return t.deletePic(4,s)}}},[t._v("")])])}),0):t._e()])]),t._v(" "),i("div",{staticClass:"titlePic"},[i("div",{staticClass:"titlePic_con vux-1px-b"},[i("div",{staticClass:"lineTitle avater",on:{click:function(e){return t.imagechanged(5)}}},[i("span",[t._v("其他")]),t._v(" "),i("span",[t._v("+")])]),t._v(" "),t.baseInfo.imagesInfo[5].imageItems.length>0?i("div",{staticClass:"imgs"},t._l(t.baseInfo.imagesInfo[5].imageItems,function(e,s){return i("div",{staticClass:"pics"},[0==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),1==e.type?i("img",{staticClass:"previewer-demo-img",attrs:{src:e.videoCoverImage,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(e){return t.deletePic(5,s)}}},[t._v("")])])}),0):t._e()])])]),t._v(" "),i("div",{staticClass:"bottom"},[i("span",{on:{click:function(e){return t.sendData(0)}}},[t._v("保存但不发布")]),t._v(" "),i("span",{on:{click:function(e){return t.sendData(1)}}},[t._v("立即发布")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"steps"},[e("span")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("终于！还差最后一步")]),this._v(" "),e("span",[this._v("请上传至少5张房源美照，它们将成为您房源最动人的宣传。建议您使用原图，效果更好哦")])])}]};var o=i("VU/8")(a,n,!1,function(t){i("Bwh9"),i("m9pS")},"data-v-073eadda",null);e.default=o.exports},m9pS:function(t,e){}});
//# sourceMappingURL=27.06db64dc66f3aef0b995.js.map