webpackJsonp([25],{EGB8:function(t,e){},UnZs:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("ngqk"),i=a("aTeQ"),o=a("rHil"),n=a("2sLL"),r=a("pDNl"),d=a("ALGc"),c=a("2FOq"),p=a("63CM"),l=(p.a,s.a,c.a,d.a,i.a,r.a,o.a,n.a,{name:"Mine",directives:{TransferDom:p.a},components:{VueCoreImageUpload:s.a,Previewer:c.a,XTextarea:d.a,XSwitch:i.a,XInput:r.a,Group:o.a,XButton:n.a},data:function(){return{newMessage:!0,params:{postName:"",postLocation:"",postLatitude:null,postLongitude:null,postDescription:"",postHeadImage:"",imagesInfo:[]},images:[],previewList:[],uploadUrl:"http://zayzsh.zbtdvip.com/api/merchant/good/add/goods/baseInfo",options:{getThumbBoundsFn:function(t){var e=document.querySelectorAll(".previewer-demo-img")[t],a=window.pageYOffset||document.documentElement.scrollTop,s=e.getBoundingClientRect();return{x:s.left,y:s.top+a,w:s.width}}}}},created:function(){this.$vux.loading.show({text:"加载中..."})},mounted:function(){var t=this.$route.query;console.log(t),t.params?(this.$vux.loading.hide(),this.params=t.params):this.getDate()},methods:{getBack:function(){this.$router.go(-1)},getDate:function(){var t=this,e={merchantId:this.$store.state.merchantId,page:1,pageSize:10};this.$http.fetchGet("/merchant/post/get/main",e).then(function(e){setTimeout(function(){t.$vux.loading.hide()},500),t.params=e.data.data.postDetail})},postData:function(){var t=this;if(1!=this.params.dataStatus)if(this.params.postName){this.$vux.loading.show({text:"加载中..."});var e=this.params;console.log(e),this.$http.fetchPost("/merchant/post/update/merchantInfo",e).then(function(e){t.$vux.loading.hide(),200===e.data.code?(t.$vux.toast.show({text:"保存成功",position:"middle"}),t.$router.go(-1)):t.$vux.toast.show({text:e.data.message,position:"middle",type:"warn"})})}else this.$vux.toast.show({text:"请输入驿站名称",position:"middle",type:"warn"});else this.$vux.toast.show({text:"正在审核中，请审核后再尝试修改",position:"middle",type:"warn"})},getAvator:function(){var t=this;window.optionPictures=function(e){1==e.selectType?t.$vux.toast.show({text:"请上传图片",position:"middle",type:"warn"}):1==e.successType?t.params.postHeadImage=e.imagePath:t.$vux.toast.show({text:e.info,position:"middle",type:"warn"});var a=navigator.userAgent.toLowerCase();a.indexOf("Android")>-1||a.indexOf("Adr"),a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.onHideDialog.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.onHideDialog()};var e=navigator.userAgent.toLowerCase();e.indexOf("Android")>-1||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.selectPicture.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.selectPicture()},imagechanged:function(){var t=this;window.optionPictures=function(e){1==e.successType?1==e.selectType?t.params.imagesInfo.push({url:e.imagePath,type:1,videoCoverImage:e.videoCoverImage}):t.params.imagesInfo.push({url:e.imagePath,type:0}):t.$vux.toast.show({text:e.info,position:"middle",type:"warn"});var a=navigator.userAgent.toLowerCase();a.indexOf("Android")>-1||a.indexOf("Adr"),a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.onHideDialog.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.onHideDialog()};var e=navigator.userAgent.toLowerCase();e.indexOf("Android")>-1||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.selectPicture.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.selectPicture()},deletePic:function(t){this.params.imagesInfo.splice(t,1),this.previewList.splice(t,1)},show:function(t){this.$refs.previewer.show(t)},goMap:function(){1!=this.params.dataStatus?this.$router.replace({name:"amap",query:{params:this.params}}):this.$vux.toast.show({text:"正在审核中，请审核后再尝试修改",position:"middle",type:"warn"})}}}),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editHotel"},[a("div",{staticClass:"iosHeader vux-1px-b"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left left",attrs:{type:"ios-arrow-left",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:t.getBack}},[a("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})]),t._v(" "),a("span",[t._v("编辑驿栈信息")])]),t._v(" "),a("div",{staticClass:"clearfix modal_main"},[a("div",{staticClass:"setting_item avater",on:{click:t.getAvator}},[a("span",[t._v("驿栈头像")]),t._v(" "),a("div",{staticClass:"info"},[a("span",[a("img",{attrs:{src:t.params.postHeadImage,alt:""}})]),t._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"40",xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])]),t._v(" "),1==t.params.dataStatus?a("div",{staticClass:"shadow"}):t._e()]),t._v(" "),a("div",{staticClass:"setting_item"},[a("group",{staticClass:"w_100"},[a("x-input",{attrs:{title:"驿栈名称",disabled:1==t.params.dataStatus,placeholder:"请输入驿站名称"},model:{value:t.params.postName,callback:function(e){t.$set(t.params,"postName",e)},expression:"params.postName"}})],1)],1),t._v(" "),a("div",{staticClass:"setting_item setting_item_big"},[t._m(0),t._v(" "),a("div",{staticClass:"address",on:{click:t.goMap}},[a("group",{staticClass:"w_100 address_group"},[a("x-input",{attrs:{disabled:"",placeholder:"请输入驿站地址"},model:{value:t.params.postLocation,callback:function(e){t.$set(t.params,"postLocation",e)},expression:"params.postLocation"}})],1),t._v(" "),a("i",{staticClass:"iconfont icon-dingweiweizhi"})],1)]),t._v(" "),a("div",{staticClass:"setting_item setting_item_big",staticStyle:{height:"3.6rem"}},[t._m(1),t._v(" "),a("div",{staticClass:"address"},[a("group",{staticClass:"w_100"},[a("x-textarea",{attrs:{disabled:1==t.params.dataStatus,max:200,name:"description",placeholder:"请输入驿站简介"},model:{value:t.params.postDescription,callback:function(e){t.$set(t.params,"postDescription",e)},expression:"params.postDescription"}})],1)],1)]),t._v(" "),a("div",{staticClass:"setting_item setting_item_big",staticStyle:{position:"relative",height:"2.6rem"}},[t._m(2),t._v(" "),a("div",{staticClass:"address"},[a("div",{staticClass:"upload"},[a("div",{staticClass:"imgs"},[t._l(t.params.imagesInfo,function(e,s){return a("div",{staticClass:"pics"},[0==e.type?a("img",{staticClass:"previewer-demo-img uploadPics",attrs:{src:e.url,alt:""}}):t._e(),t._v(" "),1==e.type?a("img",{staticClass:"previewer-demo-img uploadPics",attrs:{src:e.videoCoverImage,alt:""}}):t._e(),t._v(" "),a("span",{staticClass:"deleteBtn icon iconfont",on:{click:function(e){return t.deletePic(s)}}},[t._v("")])])}),t._v(" "),a("div",{staticClass:"pics upload_button"},[a("div",{staticClass:"pic_btn",on:{click:t.imagechanged}},[a("span"),t._v(" "),a("span",[t._v("上传照片")])])])],2)])])])]),t._v(" "),a("div",{staticClass:"bottom",on:{click:t.postData}},[t._v("保存")]),t._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("previewer",{ref:"previewer",attrs:{list:t.previewList,options:t.options}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w_100"},[e("span",[this._v("驿栈地址")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w_100"},[e("span",[this._v("驿栈简介")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w_100"},[e("span",[this._v("视频/图片")])])}]};var v=a("VU/8")(l,u,!1,function(t){a("EGB8"),a("vw2M")},"data-v-318aa71a",null);e.default=v.exports},vw2M:function(t,e){}});
//# sourceMappingURL=25.437b31393899519884c6.js.map