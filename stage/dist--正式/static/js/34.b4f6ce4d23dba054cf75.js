webpackJsonp([34],{cGe8:function(t,e){},lKUe:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("ngqk"),n=(a.a,{name:"goodsAddNextStep",components:{VueCoreImageUpload:a.a},data:function(){return{uploadUrl:"http://zayzsh.zbtdvip.com/api/merchant/good/add/goods/baseInfo",images:"",dataList:[{text:"",type:0},{url:"",type:1}]}},methods:{getBack:function(){this.$router.go(-1)},imagechanged:function(t){var e=this;window.optionPictures=function(i){1==i.selectType?this.$vux.toast.show({text:"请上传图片",position:"middle",type:"warn"}):1==i.successType?(e.images=i.imagePath,e.dataList[t].url=i.imagePath):e.$vux.toast.show({text:i.info,position:"middle",type:"warn"});var a=navigator.userAgent.toLowerCase();a.indexOf("Android")>-1||a.indexOf("Adr"),a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.onHideDialog.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.onHideDialog()};var i=navigator.userAgent.toLowerCase();i.indexOf("Android")>-1||i.indexOf("Adr"),i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.selectPicture.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.selectPicture()},addLines:function(t){1==t?this.dataList.push({url:"",type:1}):this.dataList.push({text:"",type:0})},deleteInfo:function(t){this.dataList.splice(t,1)},sendData:function(t){var e=this;this.$vux.loading.show({text:"加载中..."}),this.$http.fetchPost("/merchant/good/add/goods/detailInfo",{id:this.$route.query.id,operate:t,detailsList:this.dataList}).then(function(i){if(e.$vux.loading.hide(),200===i.data.code){var a="";a=0===t?"商品保存成功":"商品发布成功",e.$vux.toast.show({text:a,position:"middle"}),e.$router.go(-3)}else e.$vux.toast.show({text:i.data.message,position:"middle",type:"warn"})})},getData:function(){var t=this;this.$http.fetchGet("/merchant/good/get/detail",{goodId:this.$route.query.id}).then(function(e){t.dataList=e.data.data.detailsList})}},created:function(){this.$route.query.id&&this.getData()}}),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nextStep"},[i("div",{staticClass:"iosHeader vux-1px-b"},[i("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left left",attrs:{type:"ios-arrow-left",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:t.getBack}},[i("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})]),t._v(" "),i("span",[t._v("添加商品")])]),t._v(" "),i("div",{staticClass:"con"},[i("div",{staticClass:"title"},[t._v("商品详情")]),t._v(" "),t._l(t.dataList,function(e,a){return i("div",{staticClass:"items"},[0===e.type?i("div",{staticClass:"txtArea child"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"item.text"}],attrs:{placeholder:"请输入文字"},domProps:{value:e.text},on:{input:function(i){i.target.composing||t.$set(e,"text",i.target.value)}}}),t._v(" "),i("span",{staticClass:"myIcon icon iconfont",on:{click:function(e){return t.deleteInfo(a)}}},[t._v("")])]):t._e(),t._v(" "),1===e.type?i("div",{staticClass:"picArea child"},[i("span",{staticClass:"myIcon icon iconfont",on:{click:function(e){return t.deleteInfo(a)}}},[t._v("")]),t._v(" "),i("div",{staticClass:"pic_con"},[i("div",{staticClass:"pic_btn",on:{click:function(e){return t.imagechanged(a)}}},[e.url?t._e():i("span"),t._v(" "),e.url?t._e():i("span",[t._v("上传照片")]),t._v(" "),e.url?i("img",{staticClass:"realPic",attrs:{src:e.url,alt:""}}):t._e()])])]):t._e()])}),t._v(" "),i("div",{staticClass:"addBtn"},[i("span",{staticClass:"icon iconfont",on:{click:function(e){return t.addLines(1)}}},[t._v("")]),t._v(" "),i("span",{staticStyle:{"margin-right":"0.3rem"},on:{click:function(e){return t.addLines(1)}}},[t._v("添加图片")]),t._v(" "),i("span",{staticClass:"icon iconfont",on:{click:function(e){return t.addLines(2)}}},[t._v("")]),t._v(" "),i("span",{on:{click:function(e){return t.addLines(2)}}},[t._v("添加文字")])])],2),t._v(" "),i("div",{staticClass:"bottom"},[i("span",{on:{click:function(e){return t.sendData(0)}}},[t._v("保存但不发布")]),t._v(" "),i("span",{on:{click:function(e){return t.sendData(1)}}},[t._v("立即发布")])])])},staticRenderFns:[]};var o=i("VU/8")(n,s,!1,function(t){i("cGe8")},"data-v-5daa85f7",null);e.default=o.exports}});
//# sourceMappingURL=34.b4f6ce4d23dba054cf75.js.map