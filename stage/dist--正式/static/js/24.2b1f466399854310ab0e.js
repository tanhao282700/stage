webpackJsonp([24],{"/ms/":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("ngqk"),i=e("ALGc"),o=e("rHil"),n=e("pDNl"),r=(s.a,i.a,o.a,n.a,{name:"addSpecial",components:{VueCoreImageUpload:s.a,XTextarea:i.a,Group:o.a,XInput:n.a},data:function(){return{uploadUrl:"http://zayzsh.zbtdvip.com/api/merchant/good/add/goods/baseInfo",params:{image_path:"",price:"",title:""},baseInfo:{}}},created:function(){this.getBaseInfo()},methods:{check:function(a,t){(!a||a<0)&&(this.params[t]=0)},saveData:function(){var a=this;this.params.title?this.params.price?(this.$vux.loading.show({text:"加载中..."}),this.baseInfo.customProjectInfo.push(this.params),this.$http.fetchPost("/merchant/room/add/baseInfo",this.baseInfo).then(function(t){a.$vux.loading.hide(),a.$router.replace({name:"houseAdd",query:{params:a.$route.query.params}})})):this.$vux.toast.show({text:"请填写价格",position:"middle",type:"warn"}):this.$vux.toast.show({text:"请填写标题",position:"middle",type:"warn"})},imagechanged:function(a){var t=this;window.optionPictures=function(a){1==a.selectType?this.$vux.toast.show({text:"请上传图片",position:"middle",type:"warn"}):1==a.successType?t.params.image_path=a.imagePath:t.$vux.toast.show({text:a.info,position:"middle",type:"warn"});var e=navigator.userAgent.toLowerCase();e.indexOf("Android")>-1||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.onHideDialog.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.onHideDialog()};var e=navigator.userAgent.toLowerCase();e.indexOf("Android")>-1||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.selectPicture.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.selectPicture()},getBaseInfo:function(){var a=this;this.$http.fetchGet("/merchant/room/get/baseInfo",{roomId:this.$route.query.params.id,merchantId:this.$store.state.merchantId}).then(function(t){a.baseInfo=t.data.data,a.baseInfo.roomTypeInfo.map(function(t){if(t.isSelected)return a.baseInfo.roomTypeId=t.id,void(a.baseInfo.roomTypeInfo=[t])}),a.baseInfo.bedModelInfo.map(function(t){if(t.isSelected)return a.baseInfo.bedModelId=t.id,void(a.baseInfo.bedModelInfo=[t])})})},getBack:function(){this.$router.replace({name:"houseAdd",query:{params:this.$route.query.params}})}}}),d={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"addSpecial"},[e("div",{staticClass:"iosHeader vux-1px-b"},[e("span",[a._v("添加定制项目")]),a._v(" "),e("span",{staticClass:"right headericon icon iconfont",on:{click:a.getBack}},[a._v("")])]),a._v(" "),e("div",{staticClass:"con"},[e("div",{staticClass:"picbox"},[e("div",{staticClass:"upload"},[e("div",{staticClass:"imgs"},[e("div",{staticClass:"pics upload_button"},[e("div",{staticClass:"pic_btn",on:{click:a.imagechanged}},[a.params.image_path?a._e():e("span"),a._v(" "),a.params.image_path?a._e():e("span",[a._v("上传照片")]),a._v(" "),a.params.image_path?e("img",{staticClass:"aa",attrs:{src:a.params.image_path}}):a._e()])])])])]),a._v(" "),e("div",{staticClass:"textarea1"},[e("div",{staticClass:"addrIcon houseAddAttrArea vux-1px-b"},[e("group",[e("x-textarea",{attrs:{placeholder:"请填写标题","show-counter":!0,max:10},model:{value:a.params.title,callback:function(t){a.$set(a.params,"title",t)},expression:"params.title"}})],1)],1)]),a._v(" "),e("div",{staticClass:"textarea1"},[e("div",{staticClass:"addrIcon houseAddAttrArea"},[e("group",[e("x-input",{attrs:{"show-clear":!1,type:"number",placeholder:"请填写价格"},on:{"on-blur":function(t){return a.check(a.params.price,"price")}},model:{value:a.params.price,callback:function(t){a.$set(a.params,"price",t)},expression:"params.price"}})],1)],1)])]),a._v(" "),e("div",{staticClass:"bottom",on:{click:a.saveData}},[a._v("保存")])])},staticRenderFns:[]};var c=e("VU/8")(r,d,!1,function(a){e("UgPb"),e("VAkw")},"data-v-3205d386",null);t.default=c.exports},UgPb:function(a,t){},VAkw:function(a,t){}});
//# sourceMappingURL=24.2b1f466399854310ab0e.js.map