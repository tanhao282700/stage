webpackJsonp([15],{"9DeQ":function(t,e){},Et7F:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("pDNl"),n=o("rHil"),a=(s.a,n.a,{name:"goodSendStep",components:{XInput:s.a,Group:n.a},data:function(){return{price:"",stock:"",baseInfo:{goodsSkuInfo:[]}}},created:function(){this.getBaseInfo()},methods:{check:function(t,e){(!t||t<0)&&(this[e]=0)},check2:function(t,e,o){(!t||t<0)&&(this.baseInfo.goodsSkuInfo[o][e]=0)},set:function(){var t=this;this.baseInfo.goodsSkuInfo.map(function(e){t.price&&(e.memberPrice=t.price),t.stock&&(e.stock=t.stock)})},getNextStep:function(){var t=this;this.$http.fetchPost("/merchant/good/add/goods/sku",this.baseInfo).then(function(e){console.log(e),200==e.data.code?t.$router.push({path:"goodsAddNextStep",query:{id:e.data.data.id}}):t.$vux.toast.show({text:e.data.message,position:"middle",type:"warn"})})},getBack:function(){this.$router.go(-1)},getBaseInfo:function(){var t=this;this.$http.fetchGet("/merchant/good/get/goods/sku",{goodsId:this.$route.query.id}).then(function(e){200==e.data.code?(t.baseInfo=e.data.data,t.baseInfo.goodsSkuInfo.map(function(t){t.memberPrice||(t.memberPrice=0),t.stock||(t.stock=0)})):t.$vux.toast.show({text:e.data.message,position:"middle",type:"warn"})})}}}),i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"goodSendStep goodsAdd"},[o("div",{staticClass:"iosHeader vux-1px-b"},[o("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left left",attrs:{type:"ios-arrow-left",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:t.getBack}},[o("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})]),t._v(" "),o("span",[t._v("商品价格")])]),t._v(" "),o("div",{staticClass:"con"},[o("div",{staticClass:"setTitle"},[o("span",[t._v("批量设置")]),t._v(" "),o("span",{on:{click:t.set}},[t._v("设置")])]),t._v(" "),o("div",{staticClass:"defaultLine"},[o("group",[o("x-input",{attrs:{"show-clear":!1,type:"number",title:"批量设置会员价",placeholder:"请输入会员价"},on:{"on-blur":function(e){return t.check(t.price,"price")}},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)],1),t._v(" "),o("div",{staticClass:"defaultLine"},[o("group",[o("x-input",{attrs:{"show-clear":!1,type:"number",title:"批量设置库存",placeholder:"请输入库存"},on:{"on-blur":function(e){return t.check(t.stock,"stock")}},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1)],1),t._v(" "),t._l(t.baseInfo.goodsSkuInfo,function(e,s){return o("div",{staticClass:"items"},[o("div",{staticClass:"title"},t._l(e.attrDetailInfo,function(e){return o("span",{domProps:{textContent:t._s(e.attrName+"："+e.attrValue)}})}),0),t._v(" "),o("div",{staticClass:"defaultLine"},[o("group",[o("x-input",{attrs:{"show-clear":!1,type:"number",title:"商品成本价",placeholder:"请输入商品成本价"},on:{"on-blur":function(o){return t.check2(e.memberPrice,"memberPrice",s)}},model:{value:e.memberPrice,callback:function(o){t.$set(e,"memberPrice",o)},expression:"item.memberPrice"}})],1)],1),t._v(" "),o("div",{staticClass:"myLine"},[o("span",[t._v("会员价")]),t._v(" "),o("span",{domProps:{textContent:t._s("¥"+(e.memberPrice*t.baseInfo.memberPriceScale+parseInt(e.memberPrice)))}})]),t._v(" "),o("div",{staticClass:"myLine"},[o("span",[t._v("非会员价")]),t._v(" "),o("span",{domProps:{textContent:t._s("¥"+(e.memberPrice*t.baseInfo.unMemberPriceScale+parseInt(e.memberPrice)))}})]),t._v(" "),o("div",{staticClass:"defaultLine"},[o("group",[o("x-input",{attrs:{"show-clear":!1,type:"number",title:"库存",placeholder:"请输入商品库存"},on:{"on-blur":function(o){return t.check2(e.stock,"stock",s)}},model:{value:e.stock,callback:function(o){t.$set(e,"stock",o)},expression:"item.stock"}})],1)],1)])}),t._v(" "),o("div",{staticClass:"bottom",on:{click:t.getNextStep}},[t._v("下一步")])],2)])},staticRenderFns:[]};var c=o("VU/8")(a,i,!1,function(t){o("XSNB"),o("9DeQ")},"data-v-ed334cf0",null);e.default=c.exports},XSNB:function(t,e){}});
//# sourceMappingURL=15.1e63e8bee57a4a2505a7.js.map