webpackJsonp([35],{II5E:function(t,e){},rvey:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("rHil"),a=n("2sLL"),i=n("pDNl"),c=n("62KO"),s=n("63CM"),r=(s.a,i.a,o.a,a.a,c.a,{name:"accoundBind",directives:{TransferDom:s.a},components:{XInput:i.a,Group:o.a,XButton:a.a,Confirm:c.a},data:function(){return{bindAccountList:[],isShow:!1,operItem:{name:""}}},created:function(){this.getAccount()},methods:{getWechat:function(){var t=this;window.wechat=function(e,n){t.$vux.loading.show({text:"加载中..."});var o={account:n,openid:e,accountType:t.operItem.accountType,merchantId:t.$store.state.merchantId,operate:0};t.$http.fetchPost("/merchant/center/update/acct",o).then(function(e){setTimeout(function(){t.$vux.loading.hide()},500),200===e.data.code?(t.$vux.toast.show({text:"操作成功",position:"middle"}),t.isShow=!1,t.getAccount()):t.$vux.toast.show({text:e.data.message,position:"middle",type:"warn"})})};var e=navigator.userAgent.toLowerCase();e.indexOf("Android")>-1||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.webkit.messageHandlers.onOpenWxListener.postMessage(null):/(Android)/i.test(navigator.userAgent)&&window.AndroidListener.onOpenWxListener()},getBack:function(){this.$router.go(-1)},getAccount:function(){var t=this;this.$http.fetchGet("/merchant/center/get/acctlist",{merchantId:this.$store.state.merchantId}).then(function(e){t.bindAccountList=e.data.data.bindAccountList,t.bindAccountList.forEach(function(e){e.name=t.dealAccountType(e.accountType)})})},dealAccountType:function(t){var e="";switch(t){case 0:e="微信";break;case 1:e="支付宝";break;case 2:e="银行卡";break;default:e=""}return e},bind:function(t){this.operItem=t,t.account?this.offBind(t):0==t.accountType?this.getWechat():this.isShow=!0},onConfirm:function(t){t?this.bindPost(t):this.$vux.toast.show({text:"请输入账号",position:"middle",type:"warn"})},offBind:function(t){var e=this;this.$vux.loading.show({text:"加载中..."});var n={account:"",accountType:this.operItem.accountType,openid:t.openid||"",merchantId:this.$store.state.merchantId,operate:1};this.$http.fetchPost("/merchant/center/update/acct",n).then(function(t){e.$vux.loading.hide(),200===t.data.code?(e.$vux.toast.show({text:"操作成功",position:"middle"}),e.isShow=!1,e.getAccount()):e.$vux.toast.show({text:t.data.message,position:"middle",type:"warn"})})},bindPost:function(t){var e=this,n={account:t,accountType:this.operItem.accountType,merchantId:this.$store.state.merchantId,operate:0};this.$http.fetchPost("/merchant/center/update/acct",n).then(function(t){200===t.data.code?(e.$vux.toast.show({text:"操作成功",position:"middle"}),e.isShow=!1,e.getAccount()):e.$vux.toast.show({text:t.data.message,position:"middle",type:"warn"})})},onCancel:function(){this.isShow=!1}}}),d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"background_gray"},[n("div",{staticClass:"iosHeader vux-1px-b"},[n("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left left",attrs:{type:"ios-arrow-left",size:"60",xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 512 512"},on:{click:t.getBack}},[n("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})]),t._v(" "),n("span",[t._v("账号绑定")])]),t._v(" "),n("div",{staticClass:"clearfix"},t._l(t.bindAccountList,function(e,o){return 2!=e.accountType?n("div",{key:o,staticClass:"setting_item"},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"info"},[n("span",[t._v(t._s(e.account))]),t._v(" "),n("a",{staticClass:"removeBind",on:{click:function(n){return t.bind(e)}}},[t._v(t._s(e.account?"解绑":"绑定"))])])]):t._e()}),0),t._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("confirm",{attrs:{"show-input":"",title:t.operItem.name+"账号","input-attrs":{type:"text"}},on:{"on-cancel":t.onCancel,"on-confirm":t.onConfirm},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}})],1)])},staticRenderFns:[]};var u=n("VU/8")(r,d,!1,function(t){n("II5E")},"data-v-4f4df5c0",null);e.default=u.exports}});
//# sourceMappingURL=35.f79ebb577813a80228ca.js.map