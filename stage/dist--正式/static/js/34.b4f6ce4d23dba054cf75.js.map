{"version":3,"sources":["webpack:///./src/components/goodsManage/GoodsAddNextStep.vue","webpack:///./src/components/goodsManage/GoodsAddNextStep.vue?1d07","webpack:///./src/components/goodsManage/GoodsAddNextStep.vue?7b47"],"names":["goodsManage_GoodsAddNextStep","VueCoreImageUpload","name","components","data","uploadUrl","images","dataList","text","type","url","methods","getBack","this","$router","go","imagechanged","index","that","window","optionPictures","selectType","$vux","toast","show","position","successType","imagePath","info","ua","navigator","userAgent","toLowerCase","indexOf","match","test","webkit","messageHandlers","onHideDialog","postMessage","AndroidListener","selectPicture","addLines","push","deleteInfo","splice","sendData","_this","loading","$http","fetchPost","id","$route","query","operate","detailsList","then","res","hide","code","txt","message","getData","_this2","fetchGet","goodId","created","components_goodsManage_GoodsAddNextStep","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","xmlns","width","height","viewBox","on","click","d","_v","_l","item","directives","rawName","value","expression","placeholder","domProps","input","$event","target","composing","$set","_e","src","alt","staticStyle","margin-right","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/34.b4f6ce4d23dba054cf75.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport VueCoreImageUpload from 'vue-core-image-upload'\nexport default {\n  name: 'goodsAddNextStep',\n  components: {\n    VueCoreImageUpload\n  },\n  data () {\n    return {\n      uploadUrl: 'http://zayzsh.zbtdvip.com/api/merchant/good/add/goods/baseInfo',\n      images: '',\n      dataList: [{\n        text: '',\n        type: 0\n      }, {\n        url: '',\n        type: 1\n      }]\n    }\n  },\n  methods: {\n    getBack () {\n      this.$router.go(-1)\n    },\n    imagechanged (index) {\n      //            1、1：成功 0：失败 successType\n//            2、提示信息 info\n//            3、图片地址 imagePath\n//            4、1：视频 0：图片 selectType\n      let that = this\n      window.optionPictures = function(data){\n        if (data.selectType == 1) {\n          this.$vux.toast.show({\n            text: '请上传图片',\n            position: 'middle',\n            type: 'warn'\n          })\n        } else {\n          if(data.successType == 1) {\n            that.images = data.imagePath\n            that.dataList[index].url = data.imagePath\n          } else {\n            that.$vux.toast.show({\n              text: data.info,\n              position: 'middle',\n              type: 'warn'\n            })\n          }\n        }\n        let ua = navigator.userAgent.toLowerCase();\n        //Android终端\n        let isAndroid = ua.indexOf('Android') > -1 || ua.indexOf('Adr') > -1;\n        //Ios终端\n        let isiOS = !!ua.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n        if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\n          //Ios\n          window.webkit.messageHandlers.onHideDialog.postMessage(null)\n        } else if (/(Android)/i.test(navigator.userAgent)) {\n          //Android终端\n          window.AndroidListener.onHideDialog()\n        }\n      }\n      let ua = navigator.userAgent.toLowerCase();\n      //Android终端\n      let isAndroid = ua.indexOf('Android') > -1 || ua.indexOf('Adr') > -1;\n      //Ios终端\n      let isiOS = !!ua.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n      if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\n        //Ios\n        window.webkit.messageHandlers.selectPicture.postMessage(null)\n      } else if (/(Android)/i.test(navigator.userAgent)) {\n        //Android终端\n        window.AndroidListener.selectPicture()\n      }\n    },\n    addLines (type) {\n        if(type == 1) {\n          this.dataList.push({\n            url: '',\n            type: 1\n          })\n        } else {\n          this.dataList.push({\n            text: '',\n            type: 0\n          })\n        }\n    },\n    deleteInfo (index) {\n      this.dataList.splice(index, 1)\n    },\n    sendData (type) {\n      this.$vux.loading.show({\n        text: '加载中...'\n      })\n      this.$http.fetchPost('/merchant/good/add/goods/detailInfo', {id: this.$route.query.id, operate: type, detailsList: this.dataList}).then((res) => {\n        this.$vux.loading.hide()\n          if (res.data.code === 200) {\n          let txt = ''\n          if (type === 0) {\n            txt = '商品保存成功'\n          } else {\n            txt = '商品发布成功'\n          }\n          this.$vux.toast.show({\n            text: txt,\n            position: 'middle'\n          })\n          this.$router.go(-3)\n        } else {\n          this.$vux.toast.show({\n            text: res.data.message,\n            position: 'middle',\n            type: 'warn'\n          })\n        }\n      })\n    },\n    getData () {\n      this.$http.fetchGet('/merchant/good/get/detail', {goodId: this.$route.query.id}).then((res) => {\n        this.dataList = res.data.data.detailsList\n      })\n    }\n  },\n  created () {\n    if (this.$route.query.id) {\n      this.getData()\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/goodsManage/GoodsAddNextStep.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nextStep\"},[_c('div',{staticClass:\"iosHeader vux-1px-b\"},[_c('svg',{staticClass:\"vux-x-icon vux-x-icon-ios-arrow-left left\",attrs:{\"type\":\"ios-arrow-left\",\"size\":\"60\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"60\",\"height\":\"60\",\"viewBox\":\"0 0 512 512\"},on:{\"click\":_vm.getBack}},[_c('path',{attrs:{\"d\":\"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z\"}})]),_vm._v(\" \"),_c('span',[_vm._v(\"添加商品\")])]),_vm._v(\" \"),_c('div',{staticClass:\"con\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"商品详情\")]),_vm._v(\" \"),_vm._l((_vm.dataList),function(item,index){return _c('div',{staticClass:\"items\"},[(item.type === 0)?_c('div',{staticClass:\"txtArea child\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.text),expression:\"item.text\"}],attrs:{\"placeholder\":\"请输入文字\"},domProps:{\"value\":(item.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"text\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"myIcon icon iconfont\",on:{\"click\":function($event){return _vm.deleteInfo(index)}}},[_vm._v(\"\")])]):_vm._e(),_vm._v(\" \"),(item.type === 1)?_c('div',{staticClass:\"picArea child\"},[_c('span',{staticClass:\"myIcon icon iconfont\",on:{\"click\":function($event){return _vm.deleteInfo(index)}}},[_vm._v(\"\")]),_vm._v(\" \"),_c('div',{staticClass:\"pic_con\"},[_c('div',{staticClass:\"pic_btn\",on:{\"click\":function($event){return _vm.imagechanged(index)}}},[(!item.url)?_c('span'):_vm._e(),_vm._v(\" \"),(!item.url)?_c('span',[_vm._v(\"上传照片\")]):_vm._e(),_vm._v(\" \"),(item.url)?_c('img',{staticClass:\"realPic\",attrs:{\"src\":item.url,\"alt\":\"\"}}):_vm._e()])])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"addBtn\"},[_c('span',{staticClass:\"icon iconfont\",on:{\"click\":function($event){return _vm.addLines(1)}}},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-right\":\"0.3rem\"},on:{\"click\":function($event){return _vm.addLines(1)}}},[_vm._v(\"添加图片\")]),_vm._v(\" \"),_c('span',{staticClass:\"icon iconfont\",on:{\"click\":function($event){return _vm.addLines(2)}}},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.addLines(2)}}},[_vm._v(\"添加文字\")])])],2),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('span',{on:{\"click\":function($event){return _vm.sendData(0)}}},[_vm._v(\"保存但不发布\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.sendData(1)}}},[_vm._v(\"立即发布\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5daa85f7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goodsManage/GoodsAddNextStep.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5daa85f7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoodsAddNextStep.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsAddNextStep.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsAddNextStep.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5daa85f7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsAddNextStep.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5daa85f7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goodsManage/GoodsAddNextStep.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}